{"ast":null,"code":"import _defineProperty from \"/home/dev/Cloudtek/fullStackProj/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/dev/Cloudtek/fullStackProj/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dev/Cloudtek/fullStackProj/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dev/Cloudtek/fullStackProj/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dev/Cloudtek/fullStackProj/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dev/Cloudtek/fullStackProj/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dev/Cloudtek/fullStackProj/front-end/src/Component/Signup/Signup.jsx\";\nimport React, { Component } from \"react\";\nimport { Grid, Col, FormGroup, FormControl } from \"react-bootstrap\";\nimport { withFormik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { auth } from '../Login/Auth';\nimport { Redirect } from \"react-router-dom\";\nimport './login.css';\nimport Loader from \"react-loader-spinner\";\nimport { Link } from \"react-router-dom\";\nimport Select from 'react-select';\nimport axios from 'axios';\nvar options = [{\n  value: 'player',\n  label: 'Player'\n}, {\n  value: 'ops member',\n  label: 'OPS Member'\n}];\n\nvar SignUpPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpPage, _Component);\n\n  function SignUpPage(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUpPage).call(this, props));\n\n    _this.OnSubmit = function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          selectedRole = _this$state.selectedRole; //  this.setState({ error: '', isSubmitting: true, selectedRole: null })\n\n      var role = selectedRole.value;\n      auth.singnup(email, password, role).then(function (response, err) {\n        console.log('IN APIIIIII');\n        axios.post('http://localhost:3001/users/signup', {\n          email: \"\".concat(email),\n          password: \"\".concat(password),\n          userRole: \"\".concat(role)\n        }).then(function (response) {\n          console.log('response', response);\n        }).catch(function (error) {\n          console.log('error', error);\n        }); // fetch('http://localhost:3001/users/signup',{\n        //           method: 'POST',\n        //           headers: {\n        //               'Accept' : 'application/json',\n        //               'Access-Control-Allow-Origin':'http://localhost:3001',\n        //               'Content-Type' : 'application/json',\n        //           },\n        //           body: JSON.stringify({\n        //               email: `${email}`,\n        //               password: `${password}`,\n        //               userRole: `${role}`\n        //           })\n        //       })\n        //       .then(response => {\n        //         console.log('in RESPONSE')\n        //           if(response.message === false){\n        //               alert('This Email is already registered');\n        //           }else{\n        //               alert('You registeted successfully');  \n        //           }\n        //       }).catch((err) => {\n        //           //alert('This email is already registered!!');\n        //           console.log('ERRRRROOOORRR',err)})\n        //           .done();\n\n        console.log('response', response);\n\n        if (response === true) {\n          _this.setState({\n            isSubmitting: false\n          }); // return <Redirect\n          //   to={{\n          //     pathname: '/admin',\n          //     state: User\n          //   }}\n          // />\n\n        }\n      }).catch(function (error) {\n        _this.setState({\n          isSubmitting: false\n        });\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleRoleChange = function (selectedRole) {\n      _this.setState({\n        selectedRole: selectedRole\n      });\n\n      console.log(\"Option selected:\", selectedRole);\n    };\n\n    _this.state = {\n      error: '',\n      email: '',\n      password: '',\n      isSubmitting: false\n    };\n    return _this;\n  }\n\n  _createClass(SignUpPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error,\n          isSubmitting = _this$state2.isSubmitting,\n          selectedRole = _this$state2.selectedRole;\n\n      if (auth.loggedIn()) {\n        var User = {\n          name: 'wakeel',\n          role: 'player'\n        };\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/admin',\n            state: User\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }); // return <Redirect to=\"/admin\" />\n      }\n\n      return isSubmitting ? React.createElement(\"div\", {\n        className: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        type: \"ThreeDots\",\n        color: \"black\",\n        height: \"100\",\n        width: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        id: \"front-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.OnSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, error && error), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(FormControl, {\n        placeholder: \"Enter email\",\n        name: \"email\",\n        value: email,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Password\"), React.createElement(FormControl, {\n        placeholder: \"Password\",\n        name: \"password\",\n        type: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Select Role\"), React.createElement(Select, {\n        value: selectedRole,\n        onChange: this.handleRoleChange,\n        options: options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"form-note\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: email === '' || password === '',\n        className: \"submit-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Or\"), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Login\")))))));\n    }\n  }]);\n\n  return SignUpPage;\n}(Component);\n\nvar FormikApp = withFormik({\n  mapPropsToValues: function mapPropsToValues(props) {\n    return {\n      email: '',\n      password: ''\n    };\n  },\n  handleSubmit: function handleSubmit(_ref, _ref2) {\n    var email = _ref.email,\n        password = _ref.password;\n    var props = _ref2.props,\n        resetForm = _ref2.resetForm,\n        setErrors = _ref2.setErrors,\n        setSubmitting = _ref2.setSubmitting;\n    setSubmitting(true);\n    auth.login(email, password).then(function (res) {\n      setSubmitting(false);\n    }).catch(function (err) {\n      console.log(\"TODO: handle error: \", err);\n      setErrors({\n        error: \"Request Cannot be processed\"\n      });\n      setSubmitting(false);\n    });\n  },\n  validationSchema: Yup.object().shape({\n    email: Yup.string().email().required(),\n    password: Yup.string().required()\n  })\n})(SignUpPage);\nexport default FormikApp;","map":{"version":3,"sources":["/home/dev/Cloudtek/fullStackProj/front-end/src/Component/Signup/Signup.jsx"],"names":["React","Component","Grid","Col","FormGroup","FormControl","withFormik","Form","Yup","auth","Redirect","Loader","Link","Select","axios","options","value","label","SignUpPage","props","OnSubmit","state","email","password","selectedRole","role","singnup","then","response","err","console","log","post","userRole","catch","error","setState","isSubmitting","handleChange","e","target","name","handleRoleChange","loggedIn","User","pathname","FormikApp","mapPropsToValues","handleSubmit","resetForm","setErrors","setSubmitting","login","res","validationSchema","object","shape","string","required"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Grid,\n  Col,\n  FormGroup,\n  FormControl\n} from \"react-bootstrap\";\nimport { withFormik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { auth } from '../Login/Auth';\nimport { Redirect } from \"react-router-dom\";\nimport './login.css'\nimport Loader from \"react-loader-spinner\";\nimport { Link } from \"react-router-dom\";\nimport Select from 'react-select';\nimport axios from 'axios'\n\nconst options = [\n  { value: 'player', label: 'Player' },\n  { value: 'ops member', label: 'OPS Member' },\n];\n\n\n\nclass SignUpPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: '',\n      email: '',\n      password: '',\n      isSubmitting: false\n    };\n  }\n\n  OnSubmit = () => {\n    const { email, password, selectedRole } = this.state\n    //  this.setState({ error: '', isSubmitting: true, selectedRole: null })\n    const role = selectedRole.value;\n    auth.singnup(email, password, role).then((response, err) => {\n      console.log('IN APIIIIII');\n      axios.post('http://localhost:3001/users/signup', {\n        email: `${email}`,\n        password: `${password}`,\n        userRole: `${role}`\n      })\n      .then(function (response) {\n        console.log('response', response);\n      })\n      .catch(function (error) {\n        console.log('error', error);\n      });\n\n\n\n\n      // fetch('http://localhost:3001/users/signup',{\n      //           method: 'POST',\n      //           headers: {\n      //               'Accept' : 'application/json',\n      //               'Access-Control-Allow-Origin':'http://localhost:3001',\n      //               'Content-Type' : 'application/json',\n      //           },\n      //           body: JSON.stringify({\n      //               email: `${email}`,\n      //               password: `${password}`,\n      //               userRole: `${role}`\n      //           })\n      //       })\n      //       .then(response => {\n      //         console.log('in RESPONSE')\n      //           if(response.message === false){\n      //               alert('This Email is already registered');\n      //           }else{\n      //               alert('You registeted successfully');  \n      //           }\n      //       }).catch((err) => {\n      //           //alert('This email is already registered!!');\n      //           console.log('ERRRRROOOORRR',err)})\n      //           .done();\n\n      console.log('response', response);\n      if (response === true) {\n\n        this.setState({ isSubmitting: false });\n\n\n        // return <Redirect\n        //   to={{\n        //     pathname: '/admin',\n        //     state: User\n        //   }}\n\n        // />\n\n      }\n\n    })\n      .catch(error => {\n        this.setState({ isSubmitting: false });\n      });\n  }\n\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  handleRoleChange = selectedRole => {\n    this.setState({ selectedRole });\n    console.log(`Option selected:`, selectedRole);\n  };\n  render() {\n    const { email, password, error, isSubmitting, selectedRole } = this.state;\n    if (auth.loggedIn()) {\n      const User = {\n        name: 'wakeel',\n        role: 'player'\n      }\n      return <Redirect to={{\n        pathname: '/admin',\n        state: User\n      }} />\n      // return <Redirect to=\"/admin\" />\n    }\n    return isSubmitting ? (\n      <div className=\"loader\" >\n        <Loader type=\"ThreeDots\" color=\"black\" height=\"100\" width=\"100\" />\n      </div >\n    ) : (\n        <div className=\"container\">\n          <div className=\"form\" id=\"front-form\">\n\n            <Grid>\n              <Col>\n                <Form onSubmit={this.OnSubmit}>\n                  <div>\n                    {<small className=\"text\">{error && error}</small>}\n\n                    <FormGroup\n                    >\n                      <div className=\"field\">\n\n                        <label>Email address</label>\n                        <FormControl placeholder=\"Enter email\"\n                          name=\"email\"\n\n                          value={email}\n                          onChange={this.handleChange} />\n                      </div>\n                    </FormGroup>\n\n                    <FormGroup\n                    >\n                      <div className=\"field\">\n\n                        <label>Password</label>\n                        <FormControl\n                          placeholder=\"Password\"\n                          name=\"password\"\n                          type=\"password\"\n                          value={password}\n                          onChange={this.handleChange}\n\n                        />\n                      </div>\n                    </FormGroup>\n                    <FormGroup\n                    >\n                      <div className=\"field\">\n\n                        <label>Select Role</label>\n                        <Select\n                          value={selectedRole}\n                          onChange={this.handleRoleChange}\n                          options={options}\n                        />\n                      </div>\n                    </FormGroup>\n\n                  </div>\n                  <div className=\"form-note\">\n                    <button type=\"submit\" disabled={email === '' || password === ''} className=\"submit-btn\">Sign Up</button>\n                    <span>Or</span>\n                    <Link to=\"/\">\n                      Login\n                                                        </Link>\n                  </div>\n\n\n\n\n                </Form>\n              </Col>\n            </Grid>\n          </div>\n        </div>\n\n      )\n\n\n  }\n}\n\nconst FormikApp = withFormik({\n  mapPropsToValues(props) {\n\n    return {\n      email: '',\n      password: ''\n    }\n  },\n  handleSubmit({ email, password }, { props, resetForm, setErrors, setSubmitting }) {\n    setSubmitting(true)\n    auth.login(email, password).then(res => {\n      setSubmitting(false)\n    }).catch(err => {\n      console.log(`TODO: handle error: `, err)\n      setErrors({ error: \"Request Cannot be processed\" })\n\n      setSubmitting(false)\n    })\n  },\n  validationSchema: Yup.object().shape({\n    email: Yup.string().email().required(),\n    password: Yup.string().required()\n  })\n})(SignUpPage)\n\n\n\nexport default FormikApp;\n"]},"metadata":{},"sourceType":"module"}